

## Chat
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ Kotlin —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot –∏ –µ–≥–æ –º–æ–¥—É–ª–µ–π, Kafka, Redis, PostgreSQL, MongoDB, MinIO. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–∞—Ç–∞ —Å —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ–ª—É—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –º–µ–Ω—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç (–ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞), –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–π–ª—ã, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö –≤ –æ–±–ª–∞—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º —á–∞—Ç–µ –∏–ª–∏ –≤–æ–≤—Å–µ –æ—Ñ—Ñ–ª–∞–π–Ω.

---
#### –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ gif-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
![API GATEWAY](https://github.com/user-attachments/assets/72b1f6dc-bcf4-4252-9a5f-9290e56b7d0c)

---
#### –ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Postman –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –¢–∞–∫–∂–µ —Å–Ω–∏–∑—É –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.


## Auth-service

### Register

```http
POST /auth/register
```

| Parameter | Type     | Description                                        |
| :-------- | :------- | :------------------------------------------------- |
| `username` | `string` | **Required**. –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.                    |
| `password` | `string` | **Required**. –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.               |

---

### Login

```http
POST /auth/login
```

| Parameter | Type     | Description                                        |
| :-------- | :------- | :------------------------------------------------- |
| `username` | `string` | **Required**. –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.                    |
| `password` | `string` | **Required**. –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.               |

---

---

## Chat-service

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ WebSocket –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π URL:

```http
ws://localhost:8085/ws/chat?token={token}
```

| Parameter | Type     | Description                                        |
| :-------- | :------- | :------------------------------------------------- |
| `token`   | `string` | **Required**. –¢–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.      |

---

### –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

WebSocket chatWebSocket –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞.

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "type": "setActiveChat",
  "activeChat": "test"
}
```

| Field       | Type     | Description                                                   |
| :---------- | :------- | :------------------------------------------------------------ |
| `type`      | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"setActiveChat"`.                       |
| `activeChat`| `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ –∏–º—è —á–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º. |

---

#### 2. –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "type": "chatMessage",
  "text": "hello me",
  "receiverId": "test"
}
```

| Field        | Type     | Description                                                       |
| :----------- | :------- | :---------------------------------------------------------------- |
| `type`       | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"chatMessage"`.                             |
| `text`       | `string` | **Required**. –¢–µ–∫—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.                      |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è.                 |

---

#### 3. –°–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–∞–π–ª–æ–º

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª, –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ URL, –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "type": "fileMessage",
  "fileUrl": "http://minio:9000/chat-files/3ef413cd-96d1-4af2-a277-1e92d4ccc66f-README.md",
  "receiverId": "test"
}
```

| Field        | Type     | Description                                                       |
| :----------- | :------- | :---------------------------------------------------------------- |
| `type`       | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"fileMessage"`.                             |
| `fileUrl`    | `string` | **Required**. URL —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å.            |
| `text`       | `string` | **Not required**. –¢–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –∫ —Ñ–∞–π–ª—É.        |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–∞–π–ª–æ–º.        |

--- 

---
## Message-service

### Get History

```http
GET /message/history?receiverId={receiverId}
```

| Parameter   | Type     | Description                                           |
| :---------- | :------- | :---------------------------------------------------- |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π.     |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.

---

## Notification-service

### Get Notifications

```http
GET /notifications/getNotifications?receiverId={receiverId}
```

| Parameter   | Type     | Description                                           |
| :---------- | :------- | :---------------------------------------------------- |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.   |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.

---

### Mark Notifications as Read

```http
PUT /notifications/markAsRead?senderId={senderId}&receiverId={receiverId}
```

| Parameter    | Type     | Description                                           |
| :----------- | :------- | :---------------------------------------------------- |
| `senderId`   | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.  |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.   |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.

---

## File-storage-service

### Upload File

```http
POST /files/upload
```

| Parameter | Type     | Description                                                   |
| :-------- | :------- | :------------------------------------------------------------ |
| `file`    | `file`   | **Required**. –§–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å.           |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.
–§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ ‚Äì multipart/form-data.

---

### Download File

```http
GET /files/{fileName}
```

| Parameter  | Type     | Description                                            |
| :--------- | :------- | :----------------------------------------------------- |
| `fileName` | `string` | **Required**. –ò–º—è —Ñ–∞–π–ª–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `93c908e4-a2b1-44b3-90c3-549cbb9a21a4-Lab_5.pdf`. |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞.

---
### üöÄ–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —É–¥–æ–±–Ω—É—é –¥–ª—è –≤–∞—Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.
2. –í –∫–∞—Ç–∞–ª–æ–≥–µ `Chat` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ `docker-compose.yml`. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `Library` –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É ```docker login -u <username>```, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.
–î–∞–ª–µ–µ –≤–≤–µ–¥–∏—Ç–µ ```docker-compose up --build```. –ù–∞—á–Ω–µ—Ç—Å—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –Ω—É–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –¥–æ–∫–µ—Ä-–æ–±—Ä–∞–∑–æ–≤, –æ—à–∏–±–æ–∫ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ. (–ø—Ä–æ–≤–µ—Ä—è–ª –Ω–∞ —Ç—Ä–µ—Ö —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤—Å–µ —Ä–∞–±–æ—Ç–∞–ª–æ)
3. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ postman –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ `Chat` –≤ <b>Postman</b>.

