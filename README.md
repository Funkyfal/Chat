
---

# üí¨ Chat

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ Kotlin —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot –∏ –µ–≥–æ –º–æ–¥—É–ª–µ–π, Kafka, Redis, PostgreSQL, MongoDB, MinIO. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–∞—Ç–∞ —Å —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–º —á–µ—Ä–µ–∑ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∏ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —Å–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞ (–ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞), –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –æ–±–ª–∞—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ), –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º —á–∞—Ç–µ –∏–ª–∏ –æ—Ñ—Ñ–ª–∞–π–Ω.

---
#### –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ gif-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
![API GATEWAY](https://github.com/user-attachments/assets/34668d25-3e8e-4fe0-943c-47661324a1ed) üé•

---
####  üöÄ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —à–µ—Å—Ç–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª. –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ —Å–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ–∫–∞–∑–∞–Ω—ã –Ω–∏–∂–µ. –ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Postman –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω Api Gateway Service, –∫–æ—Ç–æ—Ä—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –í–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã. –ü–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ 
```
localhost:8085
```

---

## üîë Auth-service

### Register

```http
POST /auth/register
```

| Parameter  | Type     | Description                                   |
| :--------- | :------- | :-------------------------------------------- |
| `username` | `string` | **Required**. –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. üë§           |
| `password` | `string` | **Required**. –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. üîí          |

---

### Login

```http
POST /auth/login
```

| Parameter  | Type     | Description                                   |
| :--------- | :------- | :-------------------------------------------- |
| `username` | `string` | **Required**. –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. üë§           |
| `password` | `string` | **Required**. –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. üîí          |

---

## üíå Chat-service

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ WebSocket –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π URL:

```http
ws://localhost:8085/ws/chat?token={token}
```

| Parameter | Type     | Description                                        |
| :-------- | :------- | :------------------------------------------------- |
| `token`   | `string` | **Required**. –¢–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞. üîë     |

---

### –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

WebSocket chatWebSocket –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞. üì°

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "type": "setActiveChat",
  "activeChat": "test"
}
```

| Field       | Type     | Description                                                                 |
| :---------- | :------- | :-------------------------------------------------------------------------- |
| `type`      | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"setActiveChat"`. üõ†Ô∏è                                  |
| `activeChat`| `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ –∏–º—è —á–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º. |

---

#### 2. –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "type": "chatMessage",
  "text": "hello me",
  "receiverId": "test"
}
```

| Field        | Type     | Description                                                            |
| :----------- | :------- | :--------------------------------------------------------------------- |
| `type`       | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"chatMessage"`. üí¨                                |
| `text`       | `string` | **Required**. –¢–µ–∫—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. ‚úâÔ∏è                         |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è. üéØ                   |

---

#### 3. –°–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–∞–π–ª–æ–º

–≠—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª, –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ URL, –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "type": "fileMessage",
  "fileUrl": "http://minio:9000/chat-files/3ef413cd-96d1-4af2-a277-1e92d4ccc66f-README.md",
  "receiverId": "test"
}
```

| Field        | Type     | Description                                                            |
| :----------- | :------- | :--------------------------------------------------------------------- |
| `type`       | `string` | –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"fileMessage"`. üìé                                 |
| `fileUrl`    | `string` | **Required**. URL —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å. üîó               |
| `text`       | `string` | **Not required**. –¢–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω –∫ —Ñ–∞–π–ª—É. üìù            |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–∞–π–ª–æ–º. üéØ           |

---

## üí¨ Message-service

### Get History

```http
GET /message/history?receiverId={receiverId}
```

| Parameter   | Type     | Description                                           |
| :---------- | :------- | :---------------------------------------------------- |
| `receiverId`| `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π.     |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞. üîê

---

## üîî Notification-service

### Get Notifications

```http
GET /notifications/getNotifications?receiverId={receiverId}
```

| Parameter   | Type     | Description                                           |
| :---------- | :------- | :---------------------------------------------------- |
| `receiverId`| `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.   |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞. üîê

---

### Mark Notifications as Read

```http
PUT /notifications/markAsRead?senderId={senderId}&receiverId={receiverId}
```

| Parameter    | Type     | Description                                           |
| :----------- | :------- | :---------------------------------------------------- |
| `senderId`   | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.  |
| `receiverId` | `string` | **Required**. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.   |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞. üîê

---

## üìÅ File-storage-service

### Upload File

```http
POST /files/upload
```

| Parameter | Type     | Description                                                   |
| :-------- | :------- | :------------------------------------------------------------ |
| `file`    | `file`   | **Required**. –§–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å. üì§         |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞. –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ ‚Äì multipart/form-data.

---

### Download File

```http
GET /files/{fileName}
```

| Parameter  | Type     | Description                                                           |
| :--------- | :------- | :-------------------------------------------------------------------- |
| `fileName` | `string` | **Required**. –ò–º—è —Ñ–∞–π–ª–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `93c908e4-a2b1-44b3-90c3-549cbb9a21a4-Lab_5.pdf`. üì• |

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ Bearer-—Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞. üîê

---

### üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ —É–¥–æ–±–Ω—É—é –¥–ª—è –≤–∞—Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é. üìÇ
2. –í –∫–∞—Ç–∞–ª–æ–≥–µ `Chat` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ `docker-compose.yml`. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `Chat` –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   docker login -u <username>
   ```
   –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –î–∞–ª–µ–µ –≤–≤–µ–¥–∏—Ç–µ:
   ```bash
   docker-compose up --build
   ```
   –ù–∞—á–Ω–µ—Ç—Å—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –Ω—É–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ Docker-–æ–±—Ä–∞–∑–æ–≤. –û—à–∏–±–æ–∫ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ (–ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö). ‚úÖ
3. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ Postman –∫–æ–ª–ª–µ–∫—Ü–∏—é –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ `Chat` –≤ **Postman**. üì¨
4. –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –ª–æ–≥–∏–Ω, –ø–æ—Å–ª–µ —á–µ–≥–æ –∫–æ –≤—Å–µ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å Bearer Token, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ Postman –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∏–º–µ—Ä—ã WebSocket-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è Chat Service, –ø–æ—Å–∫–æ–ª—å–∫—É Postman –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é WS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. üåê

---
